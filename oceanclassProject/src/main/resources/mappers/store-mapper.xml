<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="storeMapper">

	<resultMap id="storeResult" type="Product">
	  	<result column="pno" property="productNo"/>
	  	<result column="mno" property="memberNo"/>
	  	<result column="category" property="category"/>
	  	<result column="title" property="title"/>
	  	<result column="price" property="price"/>
	  	<result column="stock" property="stock"/>
	  	<result column="endate" property="enDate"/>
	  	<result column="courier" property="courier"/>
	  	<result column="soldout_yn" property="soldoutYN"/>
	  	<result column="status" property="status"/>
	  	<result column="img1" property="productImg0"/>
	  	<result column="img2" property="productImg1"/>
	  	<result column="img3" property="productImg2"/>
	 	<result column="img4" property="productImg3"/>
	</resultMap>
	
	<select id="selectListCount" resultType="_int">
		select
			   count(*)
		  from store
		 where status = 'Y'
	</select>
	
	<select id="selectList" resultMap="storeResult">
		select
			   pno
			 , mno
			 , category
			 , title
			 , price
			 , courier
			 , soldout_yn
			 , status
			 , img1
		  from store
		 where status = 'Y'
		 order
		 	by pno desc
	</select>
	
	<select id="categorySearch" resultMap="storeResult">
				select
			   pno
			 , mno
			 , category
			 , title
			 , price
			 , courier
			 , soldout_yn
			 , status
			 , img1
		  from store
		 where status = 'Y'
		   and category = ${category}
		 order
		 	by pno desc
			 
	</select>
	
</mapper>
